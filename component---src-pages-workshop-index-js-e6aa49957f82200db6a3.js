"use strict";(self.webpackChunkspec=self.webpackChunkspec||[]).push([[624],{7677:function(e,t,r){var a=r(4578),n=r(7294),l=r(6633),s=r.n(l),o=r(7524),c=r(4280),i=r(2510),m=function(e){return n.createElement(n.Fragment,null)},u=function(e){function t(){var t;return(t=e.call(this)||this).state={wait:!0,data:[],error:!1,errorData:[],url:""},t}(0,a.Z)(t,e);var r=t.prototype;return r.componentDidMount=function(){var e=this;s().get(this.state.url,{timeout:1e4}).then((function(t){e.setState({data:t.data,wait:!1})})).catch((function(t){console.log(t.response);var r="Request Timed Out";t.response&&(r=t.response.status&&t.response.statusText?"API Error: "+t.response.status+" "+t.response.statusText:"API request failed"),e.setState({error:!0,errorMsg:r,wait:!1})}))},r.renderLoader=function(){if(this.state.wait)return n.createElement("div",{className:"flex h-90v justify-center items-center"},n.createElement(c.Z,{type:"Puff",color:"#961adb7a",height:100,width:100,timeout:1e4}))},r.renderError=function(){if(this.state.error)return n.createElement("div",{className:"flex flex-wrap h-90v"},n.createElement("div",{className:"flex items-end md:items-center justify-end w-full md:w-1/2"},n.createElement("picture",{className:"flex justify-center md:justify-end px-8"},n.createElement("source",{srcSet:"error.webp",type:"image/webp"}),n.createElement("img",{src:"error.webp",className:"w-1/2",alt:"error_image"}))),n.createElement("div",{className:"flex flex-col items-center justify-center w-full md:w-1/2 text-white p-4 text-4xl"},n.createElement("p",{className:"w-full text-red-500"},this.state.errorMsg),n.createElement("p",{className:"w-full text-xl"},"Ah Snap! Something was broken. We're trying to fix this")))},r.render=function(){return n.createElement(o.Z,null,n.createElement(i.Z,{title:"PAGE TITLE GOES HERE"}),this.renderLoader(),this.renderError(),this.state.wait||this.state.error?"":n.createElement(m,{data:this.state.data}))},t}(n.Component);t.Z=u},7374:function(e,t,r){r.r(t),r.d(t,{default:function(){return y}});var a=r(4578),n=r(2982),l=r(7294),s=r(7677),o=r(7524),c=r(2510),i=r(4471),m=function(e){return e.show?l.createElement("div",{className:"w-screen h-screen fixed z-[100] left-0 top-0 bg-black/70 ",onClick:e.clicked}):null},u=function(e){function t(){return e.apply(this,arguments)||this}return(0,a.Z)(t,e),t.prototype.render=function(){return l.createElement(l.Fragment,null,l.createElement(m,{show:this.props.show,clicked:this.props.clicked}),l.createElement("div",{className:"w-screen h-screen absolute flex justify-center items-center left-0 -top-10 "+(this.props.show?"block":"hidden")},l.createElement("div",{className:"fixed z-[500] bg-gray-300 md:w-5/12 transition-all duration-300 ease-out px-4 sm:px-8 md:p-0",style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"}},this.props.children)))},t}(l.Component),d=u,p=r(7606),f=r(8014),h=r(6633),g=r.n(h),x=r(1528),b={"All Years":[2022,2021,2020,2019,2018],2022:[2022],2021:[2021],2020:[2020],2019:[2019],2018:[2018]},w=function(e){return(0,n.Z)(Array(e).keys())},v=function(e){var t=e.shop,r=e.modalHandler,a=(0,l.useState)(!0),n=a[0],s=a[1],o=new Date,c=(0,l.useRef)();(0,l.useEffect)((function(){var e=function(e){n||!c.current||c.current.contains(e.target)||(s(!0),document.body.style.overflow="unset")};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[n]);var i=function(){r(t.title)};return l.createElement(l.Fragment,null,l.createElement("div",{className:"max-w-[19rem] rounded-xl overflow-hidden shadow-lg z-[11]"},l.createElement("div",{className:"h-0 relative bg-gray-300 overflow-hidden",style:{paddingBottom:"111%"}},l.createElement("div",{className:"min-h-[3rem] text-center  text-xl font-semibold ",style:{backgroundColor:"rgb(14,15,18)",color:"white"}},t.title.toUpperCase()),l.createElement("picture",null,l.createElement("source",{srcSet:t.cover_webp_url,type:"image/webp"}),l.createElement("img",{className:"object-fill rounded-md shadow-xl",src:t.cover_url,alt:t.title+"_pic"}))),l.createElement("div",{className:"pt-2",style:{backgroundColor:"rgb(14,15,18)",color:"white"}},l.createElement("span",{className:"flex p-1 justify-center"},l.createElement("span",{className:"flex-1 block w-full"},l.createElement(p.G,{icon:f.IV4})," "+t.event_date.toDateString()),l.createElement("span",{className:"flex-1 block w-full text-right"},l.createElement(p.G,{icon:f.FGq})," "+t.venue)),l.createElement("div",{className:"flex justify-center"},l.createElement("button",{className:"flex w-full items-center justify-center rounded-bl-md border border-transparent text-base font-medium text-white hover:scale-105 p-2 "+(o.getTime()>t.event_date.getTime()?" bg-gray-500 ":" btn-gradient "),onClick:i,disabled:o.getTime()>t.event_date.getTime()},"Register Now"),l.createElement("button",{className:"flex w-full items-center justify-center rounded-br-md border border-transparent btn-gradient text-base font-medium text-white hover:scale-105 p-2",onClick:function(){s((function(e){return!e})),document.body.style.overflow="hidden"}},"Read More")))),l.createElement("div",{className:"contain z-40"+(n?" hidden":" block")},l.createElement("div",{className:"z-50 fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 w-3/4 min-h-1/2 border-2 flex flex-col md:flex-row text-white bg-black opacity-80 border-indigo-500",ref:c},l.createElement("button",{className:"absolute top-0 right-0 m-4 text-white",onClick:function(){s((function(e){return!e})),document.body.style.overflow="unset"}},l.createElement(p.G,{icon:f.NBC,size:"lg"})),l.createElement("div",{className:"h-full w-full md:w-1/3 hidden md:block"},l.createElement("picture",null,l.createElement("source",{srcSet:t.cover_webp_url,type:"image/webp"}),l.createElement("img",{src:t.cover_url,alt:t.title+"_pic"}))),l.createElement("div",{className:"px-4 py-4 md:px-12 md:py-8 w-full md:w-2/3"},l.createElement("div",{className:"text-xl md:text-4xl font-semibold"},t.title),l.createElement("div",{className:"my-1 md:my-4 text-xs"},l.createElement("span",null,l.createElement(p.G,{icon:f.IV4})," "+t.event_date.toDateString()),l.createElement("span",{className:"px-2 md:px-4"},"|"),l.createElement("span",null,l.createElement(p.G,{icon:f.FGq})," "+t.venue)),l.createElement("div",{style:{height:"500px",overflowY:"scroll"},className:"mt-2 text-sm md:text-lg"},t.description),l.createElement("div",{className:"mt-4 md:mt-10"},l.createElement("button",{className:"text-sm md:text-lg border-2 rounded-xl py-2 px-4 cursor-not-allowed",disabled:o.getTime()>t.event_date.getTime(),onClick:i},o.getTime()>t.event_date.getTime()?" Event Complete ":" Register Now"))))))},E=function(e){var t=Object.keys(b);t.reverse();var r=(0,l.useState)(t[0]),a=r[0],n=r[1],s=(0,l.useState)(0),o=s[0],c=s[1],m=(0,l.useState)(e.data),u=m[0],d=m[1],p=(0,l.useState)(w(Math.floor(e.data.length/8))),f=p[0],h=p[1];return(0,l.useEffect)((function(){var t=e.data.filter((function(e){return b[a].includes(e.event_date.getFullYear())}));d((function(){return t})),c((function(){return 0})),h((function(){return w(Math.floor(t.length/8))})),console.log(a)}),[a,e.data]),l.createElement(l.Fragment,null,l.createElement(i.Z,{filter_keys:t,displayChoice:a,setDisplayChoice:n}),l.createElement("div",{className:"shade top-[0rem] left-[68rem] w-[80rem] h-[80rem]"}),l.createElement("div",{className:"flex flex-wrap justify-center mx-6 lg:mx-8 xl:mx-12 2xl:mx-16"},u.slice(8*parseInt(o),8*(parseInt(o)+1)).map((function(t){return l.createElement("div",{className:"flex md:w-1/2 xl:w-1/3 2xl:w-1/4 my-4 justify-center max-w-sm",key:t.id},l.createElement(v,{shop:t,modalHandler:e.modalHandler}))}))),l.createElement("div",{className:"flex justify-center w-full mt-8 rounded-xl"},f.map((function(e){return l.createElement("div",{className:"w-max m-1",key:e},l.createElement("button",{className:"flex w-full items-center justify-center rounded-md border border-transparent btn-gradient text-base font-medium text-white hover:scale-105 p-2","data-page":e,onClick:function(e){return c(parseInt(e.target.getAttribute("data-page")))}},parseInt(e)+1))}))))},y=function(e){function t(){var t;return(t=e.call(this)||this).modalHandler=function(e){t.setState((function(t){return{modalShow:!t.modalShow,workshop:e}}))},t.inputHandler=function(e){t.setState((function(t){var r;return(r={})[e.target.name]=e.target.value,r}))},t.submitHandler=function(e){e.preventDefault();var r=t.state.data.filter((function(e){return e.title===t.state.workshop})),a={name:t.state.name,email:t.state.email,suggestions:t.state.suggestions,workshop:r[0].title_date};console.log("data sent",a),g().post("https://azure-faltu.azurewebsites.net/workshop/register/",a).then((function(e){console.log(e.data),t.setState({output:e.data})})).catch((function(e){console.log(e)}))},t.state.url=x.ec,t.state.modalShow=!1,t.state.workshop="",t.state.name="",t.state.email="",t.state.suggestions="",t.state.output=null,t}return(0,a.Z)(t,e),t.prototype.render=function(){var e=this.state.data;e.forEach((function(e){e.event_date=new Date(e.event_date)}));var t=e.sort((function(e,t){return e.event_date<t.event_date}));this.state.data=t;var r=l.createElement("form",{onSubmit:this.submitHandler,method:"POST",className:"mt-10 py-6",autoComplete:"off"},l.createElement("div",{className:"flex justify-center items-center flex-col"},l.createElement("div",{className:"relative w-[20rem] pt-10"},l.createElement("input",{type:"text",name:"name",className:"peer block w-full appearance-none border-0 border-b border-gray-500 bg-transparent py-2.5 px-0 text-sm text-gray-900 focus:border-violet-600 focus:outline-none focus:ring-0",placeholder:" ",onChange:this.inputHandler,value:this.state.name,autoComplete:"nope",required:!0,pattern:"[A-Za-z]*"}),l.createElement("label",{className:"absolute top-3 -z-10 origin-[0] -translate-y-6 transform text-sm text-gray-500 duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-3 peer-focus:scale-[0.85]"},"Your name")),l.createElement("div",{className:"relative w-[20rem] pt-10"},l.createElement("input",{type:"text",name:"email",pattern:"^[a-zA-Z0-9+_.-]+@[a-zA-Z0-9.-]+$",className:"peer block w-full appearance-none border-0 border-b border-gray-500 bg-transparent py-2.5 px-0 text-sm text-gray-900 focus:border-violet-600 focus:outline-none focus:ring-0",placeholder:" ",onChange:this.inputHandler,value:this.state.email,autoComplete:"nope",required:!0}),l.createElement("label",{className:"absolute top-3 -z-10 origin-[0] -translate-y-3 transform text-sm text-gray-500 duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-3 peer-focus:scale-[0.85]"},"Your email")),l.createElement("div",{className:"relative w-[20rem] pt-10"},l.createElement("input",{type:"text",name:"workshop",className:"peer block w-full appearance-none border-0 border-b border-gray-500 bg-gray-300 py-2.5 px-0 text-sm text-gray-900 focus:border-red-500 focus:outline-none focus:ring-0",value:this.state.workshop,placeholder:" ",readOnly:!0}),l.createElement("label",{className:"absolute top-3 -z-10 origin-[0] -translate-y-3 scale-[0.85] transform text-sm text-gray-500 duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-3 peer-focus:scale-[0.85]"},"Workshop")),l.createElement("div",{className:"relative w-[20rem] pt-10"},l.createElement("textarea",{name:"suggestions",rows:"4",className:"peer block w-full appearance-none border-0 border-b border-gray-500 bg-transparent py-2.5 px-0 text-sm text-gray-900 focus:border-violet-600 focus:outline-none focus:ring-0",placeholder:" ",onChange:this.inputHandler,value:this.state.suggestions,autoComplete:"nope"}),l.createElement("label",{className:"absolute top-3 -z-10 origin-[0] -translate-y-3 transform text-sm text-gray-500 duration-300 peer-placeholder-shown:translate-y-0 peer-placeholder-shown:scale-100 peer-focus:left-0 peer-focus:-translate-y-3 peer-focus:scale-[0.85]"},"Your suggestion")),l.createElement("div",{className:"space-x-10"},l.createElement("button",{type:"submit",className:"btn-gradient mt-6 p-2 focus:outline-none rounded text-lg text-gray-200"},"Register"),l.createElement("button",{className:"bg-red-500 mt-6 p-2 focus:outline-none rounded text-lg text-gray-200 px-4",onClick:this.modalHandler},"Close"))));return this.state.output&&(r=l.createElement("div",{className:"flex justify-center items-center flex-col h-56 md:h-80 w-full"},l.createElement("h1",{className:"text-xl md:text-2xl font-bold text-gray-700 pb-6"},this.state.output.message),l.createElement("button",{className:"bg-red-500 mt-6 p-2 focus:outline-none rounded text-lg text-gray-200 px-4",onClick:this.modalHandler},"Close"))),l.createElement(l.Fragment,null,l.createElement(o.Z,null,l.createElement(c.Z,{title:"Events"}),this.renderLoader(),this.renderError(),this.state.wait||this.state.error?"":l.createElement(l.Fragment,null,l.createElement(d,{show:this.state.modalShow,clicked:this.modalHandler},r),l.createElement(E,{data:this.state.data,modalHandler:this.modalHandler}))))},t}(s.Z)},4471:function(e,t,r){var a=r(7294),n=r(7606),l=r(8014);function s(){return{width:window.innerWidth}}var o=function(e){var t,r,o,c=e.filter_keys,i=e.displayChoice,m=e.setDisplayChoice,u=e.visibleChoices,d=(0,a.useState)(Math.min(u,c.length)),p=d[0],f=d[1],h=(0,a.useState)(!0),g=h[0],x=h[1],b=(t=(0,a.useState)(s()),r=t[0],o=t[1],(0,a.useEffect)((function(){function e(){o(s())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),r).width,w=(0,a.useRef)();(0,a.useEffect)((function(){var e=function(e){g||!w.current||w.current.contains(e.target)||x(!0)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[g]),(0,a.useEffect)((function(){f(b<768?2:Math.min(u,c.length))}),[b,u,c]);var v=c.slice(p);return a.createElement("div",{className:"flex fixed bottom-0 justify-center w-full md:mb-10 md:relative z-30 "},a.createElement("div",{className:"flex flex-row w-full md:w-auto flex-wrap"},c.slice(0,p).map((function(e,t){return a.createElement("button",{className:"px-4 md:px-6 py-2 text-white transition-all duration-300 hover:bg-gray-600 outline-0 grow md:grow-0 border border-transparent hover:scale-105 "+(i===e?"btn-gradient ":"filter-button ")+(0===t?"md:rounded-l-full ":"border-x-2 -ml-2 ")+(t===p-1&&0===v.length?"md:rounded-r-full md:border-r-0 ":""),onClick:function(){m((function(){return e}))},key:t},e)})),v.length>0?a.createElement("div",{ref:w},a.createElement("button",{className:"p-2 text-white md:rounded-r-full transition-all duration-300 hover:bg-gray-600 outline-0 outline-0 border border-transparent hover:scale-105 "+(v.includes(i)?"btn-gradient ":"filter-button "),onClick:function(){return x((function(e){return!e}))}},"Show More",a.createElement("span",{className:"px-2"},a.createElement(n.G,{icon:l.ptq,className:"hidden lg:inline-block"}),a.createElement(n.G,{icon:l.mTx,className:"lg:hidden"}))),a.createElement("div",{className:"z-50 absolute overflow-hidden -top-36 lg:top-auto"+(g?" max-h-0":" max-h-96")},a.createElement("ul",{className:" bg-violet-600 p-2 "},v.map((function(e){return a.createElement("li",{key:e},a.createElement("button",{"data-choice":e,onClick:function(e){return m(e.target.getAttribute("data-choice"))},className:" hover:scale-105 p-2 text-white"},e))}))))):""))};o.defaultProps={visibleChoices:2},t.Z=o}}]);
//# sourceMappingURL=component---src-pages-workshop-index-js-e6aa49957f82200db6a3.js.map